{% extends template('widget') %}

{% define data = {
    reviews: _view.productReviews,
    summary: _view.summary,
    ratingMaxValue: _view.maximumRating,
    hasCustomer: _view.hasCustomer,

    pagination: {
        parameters: app.request.query.all(),
        currentPage: _view.pagination.currentPage,
        paginationPath: app.request.getPathInfo(),
        maxPage: _view.pagination.maxPage,
        showAlwaysFirstAndLast: true,
        anchor: 'product-reviews'
    }
} %}

{% block body %}
    {% include organism('review-summary', 'ProductReviewWidget') with {
        data: {
            reviews: data.reviews,
            summary: data.summary,
            ratingMaxValue: data.ratingMaxValue,
            hasCustomer: data.hasCustomer,
            pagination: data.pagination
        }
    } only %}
{% endblock %}
