{% extends template('widget') %}

{% define data = {
    value: _widget.rating | default(0),
    maxValue: _widget.maximumRating,
    parentJsName: '',
} %}

{% block body %}
    <p>
        <span itemscope itemprop="aggregateRating" itemtype="https://schema.org/AggregateRating">
            <meta itemprop="ratingValue" content="{{ data.value }}">
            <meta itemprop="bestRating" content="{{ data.maxValue }}">
        </span>

        {% include molecule('rating-selector', 'ProductReviewWidget') with {
            data: {
                value: data.value,
                maxValue: data.maxValue,
                useHalfSteps: true,
                parentJsName: data.parentJsName,
            },
            attributes: {
                readonly: true,
            },
        } only %}
    </p>
{% endblock %}
